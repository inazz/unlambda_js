<!DOCTYPE html>
<html>
<head>
<title>Unlambda Interpreter</title>
<link rel="stylesheet" type="text/css" href="unlambda.css" />
<script type="text/javascript" src="unlambda.js"></script>
</head>
<body>
<div id="container">

<div id="control_block">
	<span id="control_buttons">
		<input id="stop" type="button" value="Stop" />
		<input id="pause" type="button" value="Pause" />
		<input id="run" type="button" value="Run" />
		<input id="run_step" type="button" value="Step by Step" />
		<input id="step" type="button" value="Just One Step" />
	</span>
	<span id="status">
		<span>status: <span id="current_status"></span></span>
		<span>step: <span id="current_step"></span></span>
	</span>
</div>

<div id="left_side">
	<span class="block_name">Unlambda Code</span>
	<div id="compile_error_block"></div>
	<div id="code_block">
		<select id="code_selector">
			<option value="">Select for sample code...</option>
			<option value="hello_world">Hello, world!</option>
			<option value="hello_world_short">Hello, world! (short)</option>
			<option value="echo">Echo</option>
			<option value="echo_short">Echo (short)</option>
			<option value="adventure">Adventure</option>
		</select>
		<label><input id="show_current_variable" type="checkbox" name="show_current_variable" value="1" checked="checked" />Show code while execution.</label>
		<br/>
		<textarea id="code">`````````````.H.e.l.l.o.,. .w.o.r.l.d.!i</textarea>
	</div>
	<div id="input_block">
		<span class="block_name">User Input</span>
		<textarea id="input"></textarea><br />
		<span>
			<label><input id="input_wait" type="radio" name="eof_behavior" value="0" checked/>Wait for input</label>
			<label><input id="input_eof" type="radio" name="eof_behavior" value="1"/>EOF</label>
			<label><input id="echo_back" type="checkbox" name="echo_back" value="1" checked/>Echo back</label>
		</span>
	</div>
</div>

<div id="right_side">
	<div>
		<span class="block_name">Output</span>
		<div id="output_block"></div>
	</div>
	<div id="current_variable_container">
		<span class="block_name">Current Variable</span>
		<div id="current_variable_block"></div>
	</div>
</div>

<div id="explanation">
	<hr>
	<p>
	<a href="http://en.wikipedia.org/wiki/Unlambda">Unlambda</a> is small functional language consists of only 11 primitive functions (<code>s k i v c d .X e @ ?X |</code>) and Apply operator (<code>`</code>).
	Visit <a href="http://www.madore.org/~david/programs/unlambda/">Unlambda Author's site</a> to learn details of language specification.
  This interpreter code is available on <a href="https://github.com/inazz/unlambda_js">github</a>.
	Adventure on the "sample" code is the world biggest Unlambda program, written by <a href="https://github.com/irori/advent-unlambda">irori</a>.
	</p>
</div>

<table id="functions">
<caption>Functions cheat sheet</caption>
<tbody>
<tr><th><code>```sXYZ</code></th>
	  <td><code>``XZ`YZ</code></td></tr>
<tr><th><code>``kXY</code></th>
	  <td><code>X</code></td></tr>
<tr><th><code>`iX</code></th>
	  <td><code>X</code></td></tr>
<tr><th><code>`vX</code></th>
	  <td><code>v</code></td></tr>
<tr><th><code>`cX</code></th>
	  <td><code>`X&lt;cont&gt;</code> (<code>&lt;cont&gt;</code> is current continuation. when <code>`&lt;cont&gt;Y</code> is evaluated, the program continues as if <code>`cX</code> returns <code>Y</code>.)</td></tr>
<tr><th><code>``dXY</code></th>
	  <td><code>`XY</code> (but evaluate <code>Y</code> first, then <code>X</code>)</td></tr>
<tr><th><code>`.XY</code></th>
	  <td><code>Y</code> (and output <code>X</code>)</td></tr>
<tr><th><code>`eX</code></th>
    <td>Program exits with code <code>X</code>.</td></tr>
<tr><th><code>`@X</code></th>
    <td><code>`Xi</code> iff successfully read a character from STDIN and set it as current character. Otherwise <code>`Xv</code></td></tr>
<tr><th><code>`?XY</code></th>
    <td><code>`Yi</code> iff last application of <code>@</code> sucessfully set current character to <code>X</code>. Otherwise <code>`Yv</code></td></tr>
<tr><th><code>`|X</code></th>
    <td><code>`X.Y</code> iff last application of <code>@</code> successfully set current character to <code>Y</code>. Otherwise <code>`Xv</code></td></tr>
</tbody></table>

</div>
</body>
</html>
